# ğŸ‰ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆçŠ¶æ³

## âœ… æˆåŠŸã—ãŸé …ç›®

### 1. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ“ãƒ«ãƒ‰
- âœ… `npm install` - æˆåŠŸï¼ˆframer-motionãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸï¼‰
- âœ… `npm run build` - æˆåŠŸï¼ˆ26ãƒšãƒ¼ã‚¸ãŒæ­£å¸¸ã«ãƒ“ãƒ«ãƒ‰ã•ã‚ŒãŸï¼‰
- âœ… PM2ã§å†èµ·å‹• - æˆåŠŸï¼ˆ`yaku-navi-frontend`ãŒèµ·å‹•ä¸­ï¼‰

### 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- âœ… PM2ã§èµ·å‹•ä¸­ï¼ˆ`yaku-navi-backend`ï¼‰
- âœ… ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯æ­£å¸¸ï¼ˆ`http://localhost:5001/health`ï¼‰

---

## âš ï¸ æ®‹ã£ã¦ã„ã‚‹å•é¡Œ

### Server Actionã‚¨ãƒ©ãƒ¼

```
Error: Failed to find Server Action "x". This request might be from an older or newer deployment.
```

**åŸå› **: Next.jsã®ãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å•é¡Œã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

**å¯¾å‡¦æ³•**:

#### æ–¹æ³•1: `.next`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å‰Šé™¤ã—ã¦å†ãƒ“ãƒ«ãƒ‰ï¼ˆæ¨å¥¨ï¼‰

```bash
cd ~/yaku_navi/frontend
rm -rf .next
npm run build
pm2 restart yaku-navi-frontend
```

#### æ–¹æ³•2: PM2ã§ãƒ—ãƒ­ã‚»ã‚¹ã‚’å®Œå…¨ã«å†èµ·å‹•

```bash
pm2 delete yaku-navi-frontend
cd ~/yaku_navi/frontend
npm run build
pm2 start npm --name "yaku-navi-frontend" -- start
pm2 save
```

---

## ğŸ“Š ç¾åœ¨ã®çŠ¶æ…‹

### PM2ãƒ—ãƒ­ã‚»ã‚¹

```
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name               â”‚ mode     â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ memory   â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0  â”‚ yaku-navi-backend  â”‚ fork     â”‚ 6    â”‚ online    â”‚ 0%       â”‚ 75.9mb   â”‚
â”‚ 1  â”‚ yaku-navi-frontend â”‚ fork     â”‚ 4    â”‚ online    â”‚ 0%       â”‚ 19.5mb   â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ“ãƒ«ãƒ‰çµæœ

- âœ… 26ãƒšãƒ¼ã‚¸ãŒæ­£å¸¸ã«ãƒ“ãƒ«ãƒ‰
- âœ… é™çš„ãƒšãƒ¼ã‚¸: å¤šæ•°
- âœ… å‹•çš„ãƒšãƒ¼ã‚¸: å¥‘ç´„è©³ç´°ã€æ±‚äººè©³ç´°ãªã©

---

## ğŸ” å‹•ä½œç¢ºèª

### 1. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ç¢ºèª

```bash
curl http://localhost:5001/health
# æœŸå¾…ã•ã‚Œã‚‹çµæœ: {"success":true,"message":"Server is running",...}
```

### 2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ç¢ºèª

```bash
curl http://localhost:3000
# æœŸå¾…ã•ã‚Œã‚‹çµæœ: HTMLãŒè¿”ã•ã‚Œã‚‹
```

### 3. ãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ç¢ºèª

- `https://yaku-navi.com` ã«ã‚¢ã‚¯ã‚»ã‚¹
- LPãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
- ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ç™»éŒ²æ©Ÿèƒ½ãŒå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª

---

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### 1. Server Actionã‚¨ãƒ©ãƒ¼ã®å¯¾å‡¦ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

```bash
cd ~/yaku_navi/frontend
rm -rf .next
npm run build
pm2 restart yaku-navi-frontend
```

### 2. å‹•ä½œç¢ºèª

- [ ] ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆLPï¼‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ç™»éŒ²ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] APIãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹

### 3. SSLè¨¼æ˜æ›¸ã®è¨­å®šï¼ˆã¾ã ã®å ´åˆï¼‰

```bash
sudo certbot --nginx -d yaku-navi.com -d www.yaku-navi.com
```

---

## ğŸ“ ã¾ã¨ã‚

### âœ… å®Œäº†ã—ãŸé …ç›®

1. âœ… ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. âœ… ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ“ãƒ«ãƒ‰
3. âœ… PM2ã§ã®å†èµ·å‹•
4. âœ… ç’°å¢ƒå¤‰æ•°ã®è¨­å®šï¼ˆ`.env.local`ï¼‰

### âš ï¸ æ³¨æ„äº‹é …

- Server Actionã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ãŒã€åŸºæœ¬çš„ãªæ©Ÿèƒ½ã¯å‹•ä½œã™ã‚‹ã¯ãšã§ã™
- ã‚¨ãƒ©ãƒ¼ãŒç¶šãå ´åˆã¯ã€`.next`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å‰Šé™¤ã—ã¦å†ãƒ“ãƒ«ãƒ‰ã—ã¦ãã ã•ã„

---

**æœ€çµ‚æ›´æ–°**: 2026å¹´1æœˆ28æ—¥
**ãƒ‰ãƒ¡ã‚¤ãƒ³**: yaku-navi.com

