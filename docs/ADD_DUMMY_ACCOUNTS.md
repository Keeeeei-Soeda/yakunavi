# ãƒ€ãƒŸãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¿½åŠ ã‚¬ã‚¤ãƒ‰

## ğŸ“‹ æ¦‚è¦

æœ¬ç•ªç’°å¢ƒã«å®‰å…¨ã«ãƒ€ãƒŸãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã®ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚
ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯**æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã›ãš**ã€æ–°è¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã¿ã‚’è¿½åŠ ã—ã¾ã™ã€‚

---

## ğŸš€ å®Ÿè¡Œæ‰‹é †

### 1. ã‚µãƒ¼ãƒãƒ¼ã«ãƒ­ã‚°ã‚¤ãƒ³

```bash
ssh root@85.131.247.170
```

### 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•

```bash
cd ~/yaku_navi/backend
```

### 3. æœ€æ–°ã®ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—

```bash
git pull origin main
```

### 4. ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆåˆå›ã®ã¿ï¼‰

```bash
npm install
```

### 5. ãƒ€ãƒŸãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¿½åŠ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ

```bash
npx ts-node scripts/add-dummy-accounts.ts
```

---

## ğŸ“Š è¿½åŠ ã•ã‚Œã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

### è–¬å±€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆ10ä»¶ï¼‰

| ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ | è–¬å±€å |
|--------------|-----------|--------|
| pharmacy.dummy1@test.com | password123 | ã•ãã‚‰è–¬å±€ é§…å‰åº— |
| pharmacy.dummy2@test.com | password123 | ã™ã¿ã‚Œè–¬å±€ ä¸­å¤®åº— |
| pharmacy.dummy3@test.com | password123 | ã²ã¾ã‚ã‚Šè–¬å±€ æœ¬åº— |
| pharmacy.dummy4@test.com | password123 | ã‚³ã‚¹ãƒ¢ã‚¹è–¬å±€ åŒ—å£åº— |
| pharmacy.dummy5@test.com | password123 | ã‚ãŠã°è–¬å±€ å—å£åº— |
| pharmacy.dummy6@test.com | password123 | ã¿ã©ã‚Šè–¬å±€ æ±åº— |
| pharmacy.dummy7@test.com | password123 | ã¤ã°ãè–¬å±€ è¥¿åº— |
| pharmacy.dummy8@test.com | password123 | ã‚‚ã¿ã˜è–¬å±€ æ–°åº— |
| pharmacy.dummy9@test.com | password123 | ã‹ãˆã§è–¬å±€ é§…ãƒ“ãƒ«åº— |
| pharmacy.dummy10@test.com | password123 | ãªã§ã—ã“è–¬å±€ å•†åº—è¡—åº— |

### è–¬å‰¤å¸«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆ10ä»¶ï¼‰

| ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ | æ°åï¼ˆãƒ©ãƒ³ãƒ€ãƒ ï¼‰ |
|--------------|-----------|----------------|
| pharmacist.dummy1@test.com | password123 | ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ |
| pharmacist.dummy2@test.com | password123 | ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ |
| pharmacist.dummy3@test.com | password123 | ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ |
| pharmacist.dummy4@test.com | password123 | ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ |
| pharmacist.dummy5@test.com | password123 | ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ |
| pharmacist.dummy6@test.com | password123 | ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ |
| pharmacist.dummy7@test.com | password123 | ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ |
| pharmacist.dummy8@test.com | password123 | ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ |
| pharmacist.dummy9@test.com | password123 | ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ |
| pharmacist.dummy10@test.com | password123 | ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ |

---

## âœ… è¿½åŠ ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°

### è–¬å±€
- åŸºæœ¬æƒ…å ±ï¼ˆè–¬å±€åã€ä»£è¡¨è€…åã€é€£çµ¡å…ˆï¼‰
- æ‰€åœ¨åœ°ï¼ˆå…¨å›½47éƒ½é“åºœçœŒã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ï¼‰
- å–¶æ¥­æ™‚é–“ã€å‡¦æ–¹ç®‹æšæ•°ã€ã‚¹ã‚¿ãƒƒãƒ•æ•°
- æ±‚äººæƒ…å ±ï¼ˆ1-2ä»¶/è–¬å±€ï¼‰

### è–¬å‰¤å¸«
- åŸºæœ¬æƒ…å ±ï¼ˆæ°åã€å¹´é½¢ã€é€£çµ¡å…ˆï¼‰
- å­¦æ­´ï¼ˆå‡ºèº«å¤§å­¦ã€å’æ¥­å¹´ï¼‰
- è³‡æ ¼æƒ…å ±ï¼ˆè–¬å‰¤å¸«å…è¨±ã€èªå®šè–¬å‰¤å¸«è³‡æ ¼ï¼‰
- çµŒæ­´ï¼ˆå‹¤å‹™çµŒé¨“å¹´æ•°ã€æ¥­æ…‹ã€ä¸»ãªæ¥­å‹™çµŒé¨“ï¼‰
- ã‚¹ã‚­ãƒ«ï¼ˆå¾—æ„ãªè¨ºç™‚ç§‘ã€è–¬æ­´ã‚·ã‚¹ãƒ†ãƒ ï¼‰
- è‡ªå·±ç´¹ä»‹
- è¨¼æ˜æ›¸ï¼ˆç¢ºèªæ¸ˆã¿ã®å ´åˆï¼‰

---

## ğŸ” å®Ÿè¡Œçµæœã®ç¢ºèª

### ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ•°ã‚’ç¢ºèª

```bash
npx ts-node -e "import prisma from './src/utils/prisma'; (async () => { const pharmacies = await prisma.pharmacy.count(); const pharmacists = await prisma.pharmacist.count(); console.log('è–¬å±€:', pharmacies, 'ä»¶'); console.log('è–¬å‰¤å¸«:', pharmacists, 'ä»¶'); await prisma.\$disconnect(); })()"
```

### è¿½åŠ ã•ã‚ŒãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ç¢ºèª

```bash
npx ts-node -e "import prisma from './src/utils/prisma'; (async () => { const users = await prisma.user.findMany({ where: { email: { contains: 'dummy' } }, select: { email: true, userType: true } }); console.log('ãƒ€ãƒŸãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ:', users); await prisma.\$disconnect(); })()"
```

---

## âš ï¸ æ³¨æ„äº‹é …

1. **æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã¯å‰Šé™¤ã•ã‚Œã¾ã›ã‚“**
   - ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯æ–°è¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã¿ã‚’è¿½åŠ ã—ã¾ã™
   - æ—¢å­˜ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€è–¬å±€ã€è–¬å‰¤å¸«ãƒ‡ãƒ¼ã‚¿ã¯ä¿æŒã•ã‚Œã¾ã™

2. **é‡è¤‡ãƒã‚§ãƒƒã‚¯**
   - ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒæ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¾ã™
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€å‡¦ç†ã¯ç¶šè¡Œã•ã‚Œã¾ã™

3. **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**
   - ã™ã¹ã¦ã®ãƒ€ãƒŸãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ `password123` ã§ã™
   - æœ¬ç•ªç’°å¢ƒã§ã¯å®šæœŸçš„ã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™

4. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**
   - å®Ÿè¡Œå‰ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’æ¨å¥¨ã—ã¾ã™

---

## ğŸ—‘ï¸ ãƒ€ãƒŸãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®å‰Šé™¤ï¼ˆå¿…è¦ãªå ´åˆï¼‰

ãƒ€ãƒŸãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’å‰Šé™¤ã™ã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼š

```bash
npx ts-node -e "import prisma from './src/utils/prisma'; (async () => { const result = await prisma.user.deleteMany({ where: { email: { contains: 'dummy' } } }); console.log('å‰Šé™¤ã•ã‚ŒãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆ:', result.count, 'ä»¶'); await prisma.\$disconnect(); })()"
```

âš ï¸ **è­¦å‘Š**: ã“ã®æ“ä½œã¯å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚å®Ÿè¡Œå‰ã«å¿…ãšãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã£ã¦ãã ã•ã„ã€‚

---

## ğŸ“ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¨ãƒ©ãƒ¼: "Module not found"

```bash
cd ~/yaku_navi/backend
npm install
```

### ã‚¨ãƒ©ãƒ¼: "Cannot connect to database"

1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª
```bash
sudo systemctl status postgresql
```

2. `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã® `DATABASE_URL` ã‚’ç¢ºèª

### ã‚¨ãƒ©ãƒ¼: "Permission denied"

```bash
sudo chown -R $USER:$USER ~/yaku_navi
```

---

**æœ€çµ‚æ›´æ–°**: 2026å¹´1æœˆ28æ—¥

